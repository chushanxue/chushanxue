## 一、vue自身

### 1、vue是什么、核心特性

用于构建用户界面的**渐进式**JS 库

核心特性：MVVM、组件化、指令系统

### 2、如何理解渐进式

Vue 的设计非常注重**灵活性**和**可以被逐步集成**

用你想用或者能用的功能特性，你不想用的部分功能可以先不用。vue不强求你一次性接受并使用它的全部功能特性。

### 3、Vue3和Vue2的区别

首先，讲下升级后vue3的优点：

- 首次渲染更快
- diff 算法更快
- 内存占用更少
- 打包体积更小
- 更好的 Typescript 支持
- Composition API 组合 API

更具体的不同点：

- 生命周期
- 组合式api
- setup函数
- 响应式原理
- reactive函数和ref函数
- hooks

### 4、vue和react的区别

- 相同点
  - 都有组件化思想
  - 都有虚拟dom
  - 都是数据驱动视图
- 区别

  - 数据流向的不同。react从诞生开始就推崇单向数据流，而Vue是双向数据流
  - 数据变化的实现原理不同。react使用的是不可变数据，而Vue使用的是可变的数据

    > 在 React 中，当组件的状态（state）需要更新时，我们通常会创建一个新的状态对象，而不是直接修改当前的状态对象。这样做可以提高应用性能。因为 React 可以通过简单地比较两个状态对象是否引用同一个对象来判断状态是否改变，从而决定是否需要重新渲染组件

    > 在 Vue 中，我们通常会直接修改组件的数据（data）。Vue 通过使用 "响应式系统" 跟踪每个数据对象的依赖关系，当数据改变时，Vue 会自动更新相关联的 DOM。虽然这种方式在某些情况下可能会导致性能问题，但它使得代码更加直观和易于理解。

  - 组件化通信的不同。react中我们通过使用回调函数来进行通信的，而Vue中子组件向父组件传递消息有两种方式：事件和回调函数

    > React 通过回调函数进行通信：在 React 中，父组件通过 props 将回调函数传递给子组件，子组件通过调用这个回调函数来向父组件传递数据或者触发某些操作。这种方式被称为 "向下数据流" 或 "单向数据流"，因为数据和操作只能从父组件流向子组件。

    > Vue 子组件向父组件传递消息有两种方式：事件和回调函数：在 Vue 中，子组件可以使用 $emit 方法来触发一个事件，并将数据作为事件的参数传递出去。父组件可以监听这个事件并在事件处理器中接收到这个数据。此外，Vue 也支持通过 props 传递回调函数的方式进行通信，类似于 React。

  - diff算法不同。react主要使用diff队列保存需要更新哪些DOM，得到patch树，再统一操作批量更新DOM。Vue 使用双向指针，边对比，边更新DOM

## 二、vue核心

### 1、vue的双向绑定的原理是什么？

<mark>这个待更好的理解和总结，是个很重要的问题</mark>

首先解释下vue的双向绑定：即**数据**与**视图**的**响应式设计**。具体表现为：View的改变能实时让Model发生变化，而Model的变化也能实时更新View。

双向绑定 = 单向绑定 + 事件监听

```js
<input v-model="xxx">

//上面的代码等价于

<input :value="xxx" @input="xxx = $event.target.value">
```

更底层一点：（这里到时直接看源码）

- vue2的响应式原理主要是通过 Object.defineProperty 方法将数据转化为 getter/setter
- vue3的响应式原理是基于 ES6 的 Proxy 和 Reflect API，能够拦截对象的所有操作，当数据被访问或修改时，Vue 会记录依赖并在数据变动时触发更新。（Proxy API 的设计使得 Vue 可以直接在对象上进行操作而不需要转化为 getter/setter，因此 Vue 3 的响应式系统可以支持数组和对象的新增/删除操作，并且性能更优。）

### 2、为什么data属性是一个函数而不是一个对象？

先说结论：**防止数据在多个实例之间共享**

函数能够返回一个全新的data，使每个实例对象的数据不会受到其他实例对象数据的污染

如果data采用对象形式，多个实例对象之间的data会共用同一个内存地址，产生数据污染

## 三、vue应用

### 1、组件间通信的方法

- props和v-model，父组件向子组件传递数据
- $emit，子组件触发父组件的事件
- ref 和 defineExpose，父组件使用子组件的事件和数据
- provide 和 inject，父组件向所有子组件传递方法
- pinia，状态管理库
- mitt，事件总线（注意全局用一个事件总线，不要多次定义，不然事件没有注册到同一个总线上，使用的时候会出错）

## 引用

> [web前端面试 - 面试官系列](https://vue3js.cn/interview/vue/vue.html#%E4%B8%80%E3%80%81%E4%BB%8E%E5%8E%86%E5%8F%B2%E8%AF%B4%E8%B5%B7)[Vue3和Vue2的区别](https://juejin.cn/post/7260748045309837349?searchId=202403232132412975BD815EE0FCBD2D39)[Vue3组件通信的7种方法，值得收藏！](https://juejin.cn/post/7280430881965080630#heading-6)
