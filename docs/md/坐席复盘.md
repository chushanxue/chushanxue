- 1、回顾目标

  解决本地坐席无法呼通现场设备的问题

- 2、对比结果

  - **双端建立连接报错，无法接收到视频流/音频流**

    给出技术解决方案，协助坐席前端修改代码 ✅

  - **双端正常建立连接，但无法接收到视频流（有音频）**

    控制台无报错 👉 使用其他软件呼叫远端设备依旧复现问题 👉 非坐席代码问题 👉 联系厂商更换问题设备 ✅

- 3、回溯过程

  - 分析报错信息：`WebRTC error: DOMException: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.` 👉 定位到 `m` 行 👉 抓包 `sdp` 信息进行比对 👉 远端 `sdp` 与本地 `sdp` 的信息中视频 `m` 行不匹配

  ![ ](/md/2季度复盘/1.png)

  - 分析报错原因：某些设备只支持音频通话的功能，而坐席不做判断，统一进行音视频呼叫

  - 定位到源码中报错的函数`setRemoteDescription` 👉 新增设备接听方式判断 👉 针对只支持音频通话功能的设备，双端建立连接之前手动修改`answer sdp`信息（添加视频占位行）

  - 本地测试通过 👉 协助本地坐席前端修改代码
