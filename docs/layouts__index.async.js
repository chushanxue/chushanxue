"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[717],{59222:function(U,v,t){t.r(v),t.d(v,{default:function(){return D}});var j=t(71208),f=t(10521),s=t(55271),x={container:"container___uP3y7"},e=t(92880),g=function(){return(0,e.jsx)("div",{className:x.container,children:(0,e.jsx)(s.Outlet,{})})},y=g,N=t(90272),p=t(45918),c=t(33920),T={footer:"footer___De5wr"},Z=function(){return(0,e.jsx)("div",{className:T.footer,children:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(N.Z,{}),(0,e.jsx)(p.Z,{twoToneColor:"#52c41a"})]})})},C=Z,A=t(45707),m=t.n(A),W=t(84128),F=t.n(W),M=function(){var i=F()(m()().mark(function u(a){return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/weather/weatherInfo?city=".concat(a,"&key=b2544abe394eeb9fe62acc712a9ca8f0"),{method:"GET"}));case 1:case"end":return o.stop()}},u)}));return function(a){return i.apply(this,arguments)}}(),S=function(){return(0,s.request)("/ip?key=b2544abe394eeb9fe62acc712a9ca8f0",{method:"GET"})},G=t(2270),L=t(39329),w=t(40020),r={header:"header___tOLOw",left:"left___UW79e",menu:"menu___tNs7t",selected:"selected___fV0we",logo:"logo___Qficc",right:"right___uqWMe",location:"location___UMHX5",search:"search___cF3Ck"},P=L.Z.Search,z=function(){var u=function(n){return console.log("\u8F93\u5165\u5185\u5BB9",n)},a=(0,s.useModel)("useWeathers"),h=a.city,o=a.weather,I=a.temperature,O=a.setCity,B=a.setWeather,R=a.setTemperature;return(0,G.Z)(function(){S().then(function(l){l.adcode&&M(l.adcode).then(function(n){O(n.lives[0].city),B(n.lives[0].weather),R(n.lives[0].temperature)})})}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:r.header,style:{borderTop:0},children:[(0,e.jsx)("div",{className:r.left,children:(0,e.jsxs)(c.Z,{size:40,children:[(0,e.jsx)(s.NavLink,{className:r.logo,to:"/",children:(0,e.jsx)("img",{src:"/chushanxue/img/logo/logo3.svg"})}),(0,e.jsx)(P,{placeholder:"\u7AD9\u5185\u641C\u7D22",onSearch:u,className:r.search})]})}),(0,e.jsx)("div",{className:r.right,children:(0,e.jsx)(c.Z,{size:30,children:o?(0,e.jsxs)(c.Z,{children:[(0,e.jsx)("div",{className:r.location,children:(0,e.jsx)("img",{src:"/svg/location.svg"})}),(0,e.jsxs)(c.Z,{direction:"vertical",size:1,children:[(0,e.jsx)("span",{children:h.slice(0,h.length-1)}),(0,e.jsx)("span",{children:o+" / "+I+"\u2103"})]})]}):(0,e.jsx)(e.Fragment,{})})})]}),(0,e.jsxs)("div",{className:r.header,children:[(0,e.jsx)("div",{className:r.left,children:(0,e.jsxs)(c.Z,{size:40,children:[(0,e.jsx)(s.NavLink,{to:"/post",className:r.menu,style:function(n){var d=n.isActive;return d?{color:"#faa219"}:{}},children:"\u6280\u672F\u535A\u5BA2"}),(0,e.jsx)(s.NavLink,{to:"/about",className:r.menu,style:function(n){var d=n.isActive;return d?{color:"#faa219"}:{}},children:"\u5173\u4E8E"})]})}),(0,e.jsx)("div",{className:r.right})]})]})},E=z,H={container:"container___MJ5pp"};function D(){return(0,e.jsx)(j.ZP,{theme:{token:{colorPrimary:"#52c41a"}},children:(0,e.jsxs)("div",{className:H.container,children:[(0,e.jsx)(E,{}),(0,e.jsx)(y,{}),(0,e.jsx)(C,{}),(0,e.jsx)(f.Z.Group,{shape:"circle",style:{right:24},children:(0,e.jsx)(f.Z.BackTop,{visibilityHeight:0})})]})})}}}]);
